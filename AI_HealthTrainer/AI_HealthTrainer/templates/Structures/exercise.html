{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>exercise</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">
  <link href="https://fonts.cdnfonts.com/css/poppins" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="stylesheet" href="{% static 'styles/exercise.css' %}">
</head>
<body>
    <div class="text-center mt-5 pt-5 fs-1">
<span class="text"><b>CHOOSE YOUR</b></span>
<span class="orange"><b>EXERCISE</b></span>
    </div>  
    <div class="py-5  mt-5 pt-5">
        <div class="container">
    
          <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
            <div class="col" type="button" id="lungeB">
              <div class="box">
                <img class="lunge" src="../../../static/assets/lunges 1.png">
              </div>
                <div class="card-body">
                  <p class="text"><p class="text-white text-center fs-1 pt-3">Lunge</p></p>
                </div>
            </div>
            <div class="col" type="button" id="jumpingB">
              <div  class="box">
                <img class="jumping" src="../../../static/assets/jaks.png">
              </div>
                <div class="card-body">
                    <p class="text"><p class="text-white text-center fs-1 pt-3">Jumping Jacks</p></p>
                </div>
            </div>
            <div class="col" type="button" id="curlB">
              <div class="box">
                <img class="curl" src="../../../static/assets/curl.png">
              </div>
                <div class="card-body">
                    <p class="text"><p class="text-white text-center fs-1 pt-3">Dumbbell Curl</p></p>
                </div>
            </div>
            </div>
            </div>
            </div>
        </div>
    </div>

    <script>
        function sendExerciseSelection(exerciseName) {
          const params = new URLSearchParams();
          params.append('exercise_name', exerciseName);

          fetch(`/time/?${params.toString()}`, { //여기 수정
            method: 'GET',
            headers: {
              'Content-Type': 'application/json'
            }
          })
          .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.text();
        })
        .then(html => {
            document.open();
            document.write(html);
            document.close();
        })
        .catch(error => console.error('Error:', error));
    }

      document.getElementById("lungeB").addEventListener("click", function() {
        sendExerciseSelection("lunge");
      });

    document.getElementById("jumpingB").addEventListener("click", function() {
      sendExerciseSelection("jumpingjack");
    });

    document.getElementById("curlB").addEventListener("click", function() {
      sendExerciseSelection("dumbbellcurl");
    });
    </script>
</body>
    </html>